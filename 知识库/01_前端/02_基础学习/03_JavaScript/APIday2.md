# 事件监听

## **事件的概念**

事件是在编程时系统内发生的动作或者发生的事情

比如用户在网页上**单击**一个按钮。

## 事件监听的概念

就是让程序检测是否有事件产生，一旦有时间除触发，就立即调用这个函数做出相应，也称为绑定事件或者注册时间

比如鼠标经过显示下拉菜单，比如点击可以播放轮播图等等

**语法**：

```js
元素对象.addEventListener('事件类型',要执行的函数)
```

**三要素**：

**事件源**：那个dom元素被事件触发了，要获取dom元素

**事件类型**：用什么方式触发，比如鼠标单击click。鼠标经过mouseover等

**事件调用的函数**：要做什么事

```html
<button>按钮</button>
<script>
    const btn=document.querySelector('.btn')
    //修改元素样式
    btn.addEventListener('click',function(){
        alert('点击了~')
    })
</script>
```

**注意**：

1. 事件类型要**加引号**。
2. **函数是点击之后再去执行，每次点击都会执行一次**。

**案例**：

![事件监听案例](.\图片\事件监听案例.png)

**局部变量在代码块执行完毕后会被销毁**。

## 事件监听版本（了解）

- DOM L0

```js
事件源.on事件=function(){}
```

- DOM L2

```js
事件源.addEventListener(事件,事件处理函数)
```

- 区别

on方式会被覆盖，**addEventListener方式可绑定多次，拥有事件更多特性，推荐使用**。

![事件类型](.\图片\事件类型.png)

# 事件对象

## 获取事件对象

也是个对象，这个对象里面有事件触发时的相关信息

**语法**：如何获取

- 在事件绑定的回调函数的第一个参数就是事件对象
- 一般命名为event，ev，e

```js
元素.addEventListener('click',function(e){

})
```

## 事件对象常用属性

![事件对象属性](.\图片\事件对象属性.png)

**字符串清空**：

str.trim()   **去除左右的空格**。

![遇到用户打的好多空格](.\图片\遇到用户打的好多空格.png)

# 环境对象

指的是函数内部特殊的**变量this**，它代表着当前函数运行时所处的环境。

**作用**：弄清楚this的指向，可以让我们代码更加简洁

- 函数的调用方式不同，this指代的对象也不同
- （**谁调用，this就是谁**）是判断this指向的粗略规则。

- 直接调用函数，其实相当于window调用的它。

# 回调函数

如果将函数A做为参数传递给函数B时，我们称函数A为**回调函数**。

简单理解：当一个函数当做参数来传递给另外一个函数的时候，这个函数就是**回调函数**。